(this["webpackJsonpmayfair-webapp"]=this["webpackJsonpmayfair-webapp"]||[]).push([[0],{160:function(e,a,t){e.exports=t.p+"static/media/logoTransparent.7c1d7f5d.png"},368:function(e,a,t){e.exports=t.p+"static/media/mayfairmap.5c3b0c88.png"},385:function(e,a,t){e.exports=t.p+"static/media/carlove.0083cf83.png"},386:function(e,a){e.exports="data:image/png;base64,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"},387:function(e,a,t){e.exports=t.p+"static/media/owner.16c514f3.png"},388:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABcCAYAAABgK+tjAAABiWlDQ1BJQ0MgUHJvZmlsZQAAKJGFkUFIwmAYht+ZYZBkgUREgh0iggopCG9RRl08mBpZVDCnTmHamDP10rFT1K1zp64RBEKnjt6DiuhWHYPAMiJkff+mbVbQP37+Zy/v9/7fvgG2fV6WJTuAbE5Vwkvz3tjautfxBCdctCfh4oW8PBcKBcmC1tm+6tfg2Hk1wbJizzN7Hxd9C+89p56H8GP5t79tORPJvABwbmK/ICsqMbsjWlRlxsfEboWaIj5nLBpcZRw3+F73RMMB4hfi3h1BpFoby/cJaT5B7CMeT0mFEvEG0+MWv2jhrFQQmr2xr3ImcysROgdpDyFFE5FQQAleyFCwTUqGlCTN7+86v14XIKeMMlVkICINleoXLVkRPUlFETx5kqQE6Qmwf2FE1m71VK6/y9TUUWCWbu4YNrXNZeBsF3ANmNrIFr17gMtXmVf478lzdbsxp2bPnKX7FqN6aPLBWz41PWV4uitA55Gm1VYBxxjQuNG0z4qmNU6onzu6q/5v9g/+Agn+cGFrVgWIAAAAVmVYSWZNTQAqAAAACAABh2kABAAAAAEAAAAaAAAAAAADkoYABwAAABIAAABEoAIABAAAAAEAAABvoAMABAAAAAEAAABcAAAAAEFTQ0lJAAAAU2NyZWVuc2hvdM+8vGoAAAHVaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjkyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjExMTwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlVzZXJDb21tZW50PlNjcmVlbnNob3Q8L2V4aWY6VXNlckNvbW1lbnQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgooguSTAAAFBElEQVR4Ae1cvUokQRDuPQ4VDQR/wAVF0EAxETQQNPEFVBR9BCMX1MDAJ1AjDXwJNRPfwMBI8QUUzp/In1gQmetqrpa+nd2amXW6rd6phj37qmqqv/q+6fmnS5FuSlqQDPwKErWANgyIeAHvCCKeiBcwAwFDl5kn4gXMQMDQZeaJeAEzEDB0mXkiXsAMBAxdZp6IFzADAUOXmSfiBcxAwNBl5ol4ATMQMHSZeSJewAwEDF1mXsDi/XaJ/fHxUR0fH6ubmxszzNTUlKpUKmpoaCjTsK2aJxMJ9YLhAyQX7eTkJOru7oaPm/77gQ18aVur5klbPxWnKGezvuvr66izs9OIViqVovHxcfODPojZ1dUV6dmYmL5V8yQWnjLAiXgLCwtGpPb29ujs7KwKBfptbW3Gt7i4WLU36rRqnkb1ZrU7Ea+/v98ItLKyEsOzvLxsfBCT1Fo1T1Ldaf1OrjZfX1/N6XVkZCR2mh0dHTU2jIkFWAaMabU8Vonf6joRT+85BpQ+x8XA6UOpsXV0dMR8tQYqD+bGmNpt7f9jDG5j+9CGMbavto8xuI3tRxvG2D5Xfae3CvVAr6+vq9vbWzU/P1/PLbYMDHgXb3h4WF1cXGSAKKGNGHBy2Gw0mNjzZeBHxHt7e1NfX1/5VlLAbN7FOz8/V+VyWc3NzRWQ7nxL9i7en4cH9fn5qZ6fn/OtpIDZvF+wVDY2VHlgQE1OThaQ7nxL9i4e3A+trq7mW0VBs3k/bBaUZydlexfv4+NDHRwcqMvLSycFFSmp98Pm0dGR2t3dVX19ferl5aVIXOdeq/eZ9/7+borAh865V1SghN5nns0tPsy1bc30ueVppoZmtvE+83p6ejLj7O3tjW3DLU8MoAeD95m3tbWlYKbAI7I0DYTb3NyMhXLLEwPow6DfP+XeNG7ztnxnZyf33FwTQq1Yty+M3g+bPnbIoozhRDz9eZ/hL+2hsShk512nE/EmJiYMTniDcH9/nzdmyfePAScXLNvb2+rq6krBvdzMzIzSn/CZm/JmWIerSrg4qf3mBZ7UwA0/3jcm5XadJ2l8J35XJ1dNePUEroF/q7+/vx+Dube3lzmnyzwtdcFyeHioTk9P1ezsrMJzYLN7X71zZ9oZZ4/pMo89jq++k8Mmgl9bW1Pwa7alfXKipyU5hO88JJgcnU4uWHLEJ6kIBkQ8ghzuLhGPu0IEPhGPIIe7S8TjrhCBT8QjyOHuEvG4K0TgE/EIcri7RDzuChH4RDyCHO4uEY+7QgQ+EY8gh7uLtXj4QLneg2e0YQxFNMbgNnYs2jDG9tX2MQa3sf1owxjb56rPWjz4qhpavbfxd3d3xqeX+zB/qX+45aGwZvLpPYZtw0V0YOEdezEe/Z6wuhjP0tJSIn5ueRIBpwxwsohOyrETw2D5KljqSu+NkT4cRWNjY+YHfbBlWQaLU57EwlMGsBYPaqAWjoMZmLZxy5MWNxVXAmem4+wPBD89PZmlH/VMNKNPT0+bpR8HBwczoeGWJxP4OsFBiFcHt5g0A6yvNkUhmgERj+aHtVfEYy0PDU7Eo/lh7RXxWMtDgxPxaH5Ye0U81vLQ4EQ8mh/WXhGPtTw0OBGP5oe1V8RjLQ8NTsSj+WHtFfFYy0ODE/Foflh7RTzW8tDgRDyaH9ZeEY+1PDQ4EY/mh7VXxGMtDw1OxKP5Ye0V8VjLQ4MT8Wh+WHtFPNby0OD+AnQ4H7axxPnIAAAAAElFTkSuQmCC"},416:function(e,a,t){e.exports=t(559)},558:function(e,a,t){},559:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),r=t(16),l=t(17),o=t(94),c=t(43),s=t(613),m=t(564),u=t(366),d=t.n(u),p=t(336),h=t(363),g="notifs/add_notif",f="notifs/remove_notif",b=function(e,a,t){return{type:g,payload:{message:a,id:e,type:t}}},v=t(126),E=t.n(v),A=(t(66),function(e){return E()(e,"notifications.data")}),y=t(5),w=t(365),x=t.n(w),k=t(135),N=t.n(k),j={success:Object(y.a)((function(e){return{root:{marginRight:e.spacing(3),color:"green"}}}))(x.a),error:Object(y.a)((function(e){return{root:{marginRight:e.spacing(3),color:"red"}}}))(N.a)},I=Object(p.a)((function(e){return Object(h.a)({root:{marginBottom:e.spacing(2)},iconSpan:{display:"flex",alignItems:"center"}})}));var O=Object(l.c)((function(e){return{notifs:A(e)}}),{removeNotification:function(e){return{type:f,payload:{id:e}}}})((function(e){var a,t=e.notifs,n=e.removeNotification,r=I(),l=function(e,a,t){"clickaway"!==a&&n(t)};return i.a.createElement("div",null,Boolean(t.length)&&t.map((function(e,t){return a=j[e.type],i.a.createElement(s.a,{key:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{marginBottom:60*t},open:!0,autoHideDuration:6e3,onClose:function(a,t){return l(0,t,e.id)},message:i.a.createElement("span",{className:r.iconSpan},i.a.createElement(a,null),e.message),action:i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(a,t){return l(0,t,e.id)}},i.a.createElement(d.a,{fontSize:"small"})))})})))})),C=t(36),W=t.n(C),S=t(52),z=t(19),R=t(18),P=t(136),D=t.n(P),B=t(9),L=t(614),M=t(615),T=t(105),F=t(370),U=t.n(F),G=t(373),V=t.n(G),Y=t(372),Z=t.n(Y),Q=t(616),H=t(169),X=t(199),q=t.n(X),K=t(399),J=t(653),_=t(617),$=t(568),ee=t(622),ae=t(569),te=t(620),ne=t(621),ie=t(374),re=t.n(ie),le=t(376),oe=t.n(le),ce=t(378),se=t.n(ce),me=t(375),ue=t.n(me),de=t(377),pe=t.n(de),he=t(367),ge=t.n(he),fe=t(160),be=t.n(fe),ve=t(368),Ee=t.n(ve),Ae="vehicles/searching",ye=t(12),we=Object(ye.d)({name:"auth",initialState:{hasAccount:!0,token:null,pathname:"",isAuthed:""},reducers:{setHasAccount:function(e,a){e.hasAccount=a.payload},setIsAuthed:function(e,a){e.isAuthed=a.payload}}}),xe=we.actions,ke=xe.setHasAccount,Ne=xe.setIsAuthed,je=we.reducer,Ie=function(e){return e.auth},Oe=function(e){return Ie(e).hasAccount},Ce=function(e){return Ie(e).isAuthed},We=function(e){return E()(e,"vehicles.searching")},Se=t(369),ze="https://39da-2600-6c5e-597f-f9f8-18e1-c50a-a05-4846.ngrok.io",Re=Object(Se.a)({reducerPath:"api",baseQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:""},a=e.baseUrl;return function(){var e=Object(S.a)(W.a.mark((function e(t){var n,i,r,l,o,c,s,m,u;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,i=t.method,r=t.data,l=t.withCredentials,o=t.headers,e.prev=1,e.next=4,D()({url:a+n,method:i,data:r,withCredentials:l,headers:o});case 4:return c=e.sent,e.abrupt("return",{data:c.data});case 8:return e.prev=8,e.t0=e.catch(1),u=e.t0,e.abrupt("return",{error:{status:null===(s=u.response)||void 0===s?void 0:s.status,data:null===(m=u.response)||void 0===m?void 0:m.data}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()}({baseUrl:ze,prepareHeaders:function(e,a){var t=(0,a.getState)().auth.token;return t&&e.set("authorization","Bearer ".concat(t)),e}}),endpoints:function(e){return{login:e.mutation({query:function(e){return{url:"/users/login",method:"post",data:e,withCredentials:!0}}}),register:e.mutation({query:function(e){return{url:"/users/register",method:"post",data:e,withCredentials:!0}}}),checkAuthed:e.query({query:function(){return{method:"get",url:"/authed-user",withCredentials:!0}}}),vehicles:e.query({query:function(){return{method:"get",url:"/vehicles",withCredentials:!0}}}),vehicle:e.query({query:function(e){return{method:"get",url:"/vehicles/".concat(e),withCredentials:!0}}}),vehicleUploads:e.mutation({query:function(e){return{url:"/vehicles/upload",method:"post",data:e,withCredentials:!0}}}),vehicleUpdate:e.mutation({query:function(e){return{url:"/vehicles/".concat(e.vehicleId),method:"patch",data:e.fd,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}},onQueryStarted:function(e,a){return Object(S.a)(W.a.mark((function t(){var n,i,r,l,o,c;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.vehicleId,i=a.dispatch,r=a.queryFulfilled,t.prev=2,t.next=5,r;case 5:l=t.sent,o=l.data,c=Re.util.updateQueryData("vehicle",n,(function(e){Object.assign(e,o)})),i(c),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(2);case 13:case"end":return t.stop()}}),t,null,[[2,11]])})))()}}),pic:e.query({query:function(e){return{method:"get",url:"/vehicles/pics/".concat(e),withCredentials:!0}}}),deletePic:e.mutation({query:function(e){return{method:"delete",url:"/vehicles/pics/".concat(e.picId),withCredentials:!0,data:{vehicleId:e.vehicleId}}}}),uploadAsset:e.mutation({query:function(e){return{url:"/assets/upload",method:"post",data:e,withCredentials:!0}}}),assets:e.query({query:function(){return{method:"get",url:"/assets",withCredentials:!0}}})}}}),Pe=Re.useLoginMutation,De=Re.useRegisterMutation,Be=(Re.useCheckAuthedQuery,Re.useVehiclesQuery),Le=Re.useVehicleQuery,Me=Re.useVehicleUploadsMutation,Te=Re.useVehicleUpdateMutation,Fe=(Re.usePicQuery,Re.useDeletePicMutation),Ue=Re.useUploadAssetMutation,Ge=Re.useAssetsQuery,Ve=Object(p.a)((function(e){var a;return Object(h.a)({root:{flexGrow:1},menuButton:{},logoImg:{width:25,height:25,marginRight:e.spacing(1),"&:hover":{cursor:"pointer"}},title:{flexGrow:1,display:"none","&:hover":{cursor:"pointer"},"@media only screen and (min-width: 750px)":{display:"initial"}},location:{fontWeight:500,display:"flex",alignItems:"center",marginLeft:"auto","@media only screen and (min-width: 750px)":{marginRight:e.spacing(2)}},downArrow:{fontSize:"2rem","&:hover":{cursor:"pointer"}},popoverTitleContainer:{display:"flex",alignItems:"center",marginBottom:e.spacing(1)},popoverTitle:{margin:0},locationIcon:{fontSize:"1rem"},phoneNumber:{display:"block",color:e.palette.info.light,textDecoration:"underline",marginTop:e.spacing(1)},imgLink:{marginLeft:16},mapImg:{width:80,height:"100%",borderRadius:5},paper:{padding:e.spacing(1),width:300},search:(a={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(B.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(B.d)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},Object(R.a)(a,e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),Object(R.a)(a,"@media only screen and (max-width: 600px)",{display:"none"}),a),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(R.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),drawer:{width:250,height:"100%",position:"relative"},fullList:{width:"auto"},adminItem:{position:"absolute",bottom:0}})}));var Ye=Object(l.c)((function(e){return{searching:We(e),isAuthed:Ce(e)}}),{addNotification:b,setSearching:function(e){return{type:Ae,payload:{isSearching:e}}},setIsAuthed:Ne})((function(e){var a=e.searching,t=e.setSearching,n=e.addNotification,r=e.setIsAuthed,l=e.isAuthed,o=Ve(),s=Object(c.f)(),u=i.a.useState(""),d=Object(z.a)(u,2),p=d[0],h=d[1],g=i.a.useState(!1),f=Object(z.a)(g,2),b=f[0],v=f[1],E=i.a.useState(null),A=Object(z.a)(E,2),y=A[0],w=A[1],x=Object(c.g)(),k=Boolean(y),N=k?"simple-popper":void 0,j=x.pathname,I=function(){var e=Object(S.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("".concat(ze,"/users/logout"),{withCredentials:!0});case 3:r(!1),n("logout","Successful Log Out","success"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("logout error:",e.t0),n("logout","Error Logging Out","error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),O=i.a.useCallback(ge()((function(e){t(!1)}),1e3),[]),C=i.a.useCallback((function(e){h(e.target.value),a||t(!0),O(e.target.value)}),[a,t,O]),R=function(){return v(!b)};return i.a.createElement("div",{className:o.root},i.a.createElement(L.a,{position:"static"},i.a.createElement(M.a,null,i.a.createElement(m.a,{edge:"start",className:o.menuButton,color:"inherit","aria-label":"menu",onClick:R},i.a.createElement(U.a,null)),i.a.createElement("img",{src:be.a,alt:"Mayfair Motors Logo",className:o.logoImg,onClick:function(){return s.push("/")}}),i.a.createElement(T.a,{variant:"h6",className:o.title,onClick:function(){return s.push("/")}},"Mayfair Motors"),i.a.createElement("div",{className:o.location,onMouseEnter:function(e){w(e.currentTarget)},onMouseLeave:function(){w(null)}},i.a.createElement("span",null,"Roebuck, SC"),i.a.createElement(q.a,{className:o.downArrow}),i.a.createElement(Q.a,{id:N,open:k,anchorEl:y},i.a.createElement(H.a,{style:{padding:16}},i.a.createElement(_.a,{container:!0,justify:"space-between"},i.a.createElement("div",null,i.a.createElement("span",{className:o.popoverTitleContainer},i.a.createElement("h3",{className:o.popoverTitle},"Roebuck, SC"),i.a.createElement(Z.a,{className:o.locationIcon})),i.a.createElement("div",null,"161 Wingo Rd"),i.a.createElement("div",null,"Roebuck, SC 29376"),i.a.createElement("a",{className:o.phoneNumber,href:"tel:+1-864-804-7528"},"Call: 864-804-7528")),i.a.createElement("a",{href:"https://goo.gl/maps/AHxoiZ2G1G6oZBxKA",target:"_blank",rel:"noopener noreferrer",className:o.imgLink},i.a.createElement("img",{src:Ee.a,className:o.mapImg})))))),"/"===j&&i.a.createElement("div",{className:o.search},i.a.createElement("div",{className:o.searchIcon},i.a.createElement(V.a,null)),i.a.createElement(K.a,{placeholder:"Search\u2026",classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search"},onChange:C,value:p})),i.a.createElement(J.a,{anchor:"left",open:b,onClose:R,onOpen:R},i.a.createElement($.a,{className:o.drawer},i.a.createElement(ae.a,{button:!0,key:"Vehicles",onClick:function(){s.push("/"),R()}},i.a.createElement(te.a,null,i.a.createElement(re.a,null)),i.a.createElement(ne.a,{primary:"Vehicles"})),i.a.createElement(ae.a,{button:!0,component:"a",key:"creditApp",onClick:function(){s.push("/credit-app"),R()}},i.a.createElement(te.a,null,i.a.createElement(ue.a,null)),i.a.createElement(ne.a,{primary:"Credit Application"})),i.a.createElement(ae.a,{button:!0,key:"Info",onClick:function(){s.push("/info"),R()}},i.a.createElement(te.a,null,i.a.createElement(oe.a,null)),i.a.createElement(ne.a,{primary:"Info"})),i.a.createElement(ee.a,null),!l&&i.a.createElement(ae.a,{button:!0,key:"Admin",onClick:function(){s.push("/login"),R()},className:o.adminItem},i.a.createElement(te.a,null,i.a.createElement(pe.a,null)),i.a.createElement(ne.a,{primary:"Admin"})),l&&i.a.createElement(ae.a,{button:!0,key:"Logout",onClick:function(){I(),R(),s.push("/")},className:o.adminItem},i.a.createElement(te.a,null,i.a.createElement(se.a,null)),i.a.createElement(ne.a,{primary:"Logout"})))))))})),Ze=t(650),Qe=t(628),He=t(623),Xe=t(379),qe=function(e){var a=e.title,t=e.description;return i.a.createElement(Xe.a,null,i.a.createElement("title",null,a),i.a.createElement("meta",{property:"og:title",content:a}),i.a.createElement("meta",{property:"og:description",content:t}),i.a.createElement("meta",{property:"og:image",content:be.a}),i.a.createElement("meta",{property:"og:url",content:"https://mayfairmotorco.com"+window.location.pathname+window.location.search}),i.a.createElement("meta",{name:"twitter:title",content:a}),i.a.createElement("meta",{name:"twitter:description",content:t}),i.a.createElement("meta",{name:"twitter:image",content:be.a}),i.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}))},Ke=Object(p.a)((function(e){return Object(h.a)({root:{width:"100%",height:"100%",overflow:"hidden",position:"relative",paddingTop:"55%"},pic:{width:"100%",height:"auto",position:"absolute",top:0},warningMsg:{position:"absolute",top:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},warningIcon:{width:50,height:50},warningText:{marginTop:e.spacing(3),fontSize:e.spacing(2.5)},circularContainer:{width:"100%",height:"100%",position:"absolute",top:0},imgSpinner:{width:"50px !important",height:"50px !important"}})}));var Je=Object(l.c)((function(e){return{}}),{})((function(e){var a=e.id,t=Ke(),r=Object(n.useState)(!0),l=Object(z.a)(r,2),o=l[0],c=l[1],s=Object(n.useState)(!1),m=Object(z.a)(s,2),u=m[0],d=m[1];return i.a.createElement(_.a,{className:t.root,container:!0,alignItems:"center",justify:"center"},u?i.a.createElement("div",{className:t.warningMsg},i.a.createElement(N.a,{className:t.warningIcon}),i.a.createElement("span",{className:t.warningText},"Image Failed to Load")):a&&i.a.createElement("img",{className:t.pic,src:"".concat(ze,"/vehicles/pics/").concat(a),alt:"vehicle",onLoad:function(){return c(!1)},width:600,height:400,onError:function(){d(!0),c(!1)}}),o&&i.a.createElement(_.a,{container:!0,alignItems:"center",justify:"center",className:t.circularContainer},i.a.createElement(He.a,{className:t.imgSpinner})))})),_e=Object(p.a)((function(e){return Object(h.a)({root:{border:"1px solid grey",borderRadius:5,boxSizing:"border-box",height:"100%",position:"relative"},imgContainer:{width:"100%",borderRadius:5,"&:hover":{cursor:"pointer"}},vehiclePic:{width:"100%",height:"auto",borderTopRightRadius:5,borderTopLeftRadius:5,"&:hover":{cursor:"pointer"}},info:{width:"100%",padding:16,borderBottomRightRadius:5,borderBottomLeftRadius:5,boxSizing:"border-box","&:hover":{cursor:"pointer"}},price:{marginTop:4,fontSize:"1.3rem",color:"#575f65",fontWeight:500,marginBottom:e.spacing(1)},blueText:{color:"#1773ce",fontSize:"1rem"},payments:{marginTop:e.spacing(1),fontSize:".8rem"},paymentsSpan:{position:"relative"},infoIcon:{fontSize:".7rem",position:"absolute",right:-e.spacing(2),top:"50%",transform:"translateY(-50%)"},sold:{color:"red",fontWeight:"bold",marginLeft:e.spacing(4)}})}));var $e=Object(l.c)((function(e){return{isAuthed:Ce(e)}}),{})((function(e){var a=e.vehicle,t=void 0===a?{}:a,n=e.isAuthed,r=_e(),l=Object(c.f)(),o=t.picIds,s=Number.parseFloat(t.price.replace(/,/g,""),10),m=Math.floor(s/60+40);return i.a.createElement(Ze.a,{item:!0,xs:12,md:6,xl:4,style:{padding:8}},i.a.createElement("div",{className:r.root,onClick:function(){n?l.push("/edit/".concat(t._id)):l.push("/vehicle/".concat(t._id))}},i.a.createElement("div",{className:r.imgContainer},i.a.createElement(Je,{id:o[0]})),i.a.createElement(H.a,{elevation:1,className:r.info},i.a.createElement("div",{className:r.blueText},"".concat(t.year," ").concat(t.make)," ","".concat(t.model)),i.a.createElement("div",{className:r.price},i.a.createElement("span",null,"$".concat((1*t.price).toLocaleString("en-US")))," \xb7"," ",i.a.createElement("span",null,"".concat((1*t.mileage).toLocaleString("en-US")," miles"))),i.a.createElement(ee.a,null),i.a.createElement("div",{className:r.payments},i.a.createElement("span",{className:r.paymentsSpan},"Est. $",m,"/month")))))})),ea=Object(p.a)((function(e){return Object(h.a)({root:{height:"calc(100vh - 56px)","@media only screen and (min-width: 600px)":{height:"calc(100vh - 64px)"}},loadingSpiner:{position:"absolute",left:"50%",marginTop:e.spacing(3)},addButton:{display:"block",margin:"16px auto 0"}})}));var aa=Object(l.c)((function(e){return{searching:We(e),isAuthed:Ce(e)}}),{})((function(e){var a=e.searching,t=e.isAuthed,n=ea(),r=Be(),l=r.data,o=void 0===l?[]:l,s=r.isFetching,m=r.isLoading,u=Object(c.f)();return i.a.createElement(i.a.Fragment,null,t&&i.a.createElement(Qe.a,{className:n.addButton,variant:"contained",color:"primary",onClick:function(){return u.push("/uploads")}},"Add Vehicle"),i.a.createElement(Ze.a,{container:!0,style:{margin:8,width:"initial"}},i.a.createElement(qe,{title:"Mayfair Motors in Spartanburg SC",description:"Used Car Dealership in Spartanburg SC selling quality and inspected used cars"}),a?i.a.createElement(He.a,{className:n.loadingSpiner}):s||m?"...loading":o.length>0?o.map((function(e,a){return i.a.createElement($e,{vehicle:e,key:a})})):i.a.createElement("div",null,"No Data")))})),ta=t(15),na=(t(473),t(389)),ia=t.n(na),ra=t(208),la=t.n(ra),oa=t(384),ca=t.n(oa),sa=t(385),ma=t.n(sa),ua=t(386),da=t.n(ua),pa=t(387),ha=t.n(pa),ga=t(388),fa=t.n(ga),ba=Object(p.a)((function(e){return Object(h.a)({outerWrapper:{position:"relative",margin:"0 auto",maxWidth:1300},paddingWrapper:{"@media only screen and (min-width: 900px)":{paddingTop:"55%"}},root:{width:"100%",padding:16,display:"flex",boxSizing:"border-box",justifyContent:"center",flexDirection:"column","@media only screen and (min-width: 900px)":{flexDirection:"row",position:"absolute",top:0,height:"100%"}},imgGalleryWrapper:{width:"100%",position:"relative"},imgContainer:{width:"100%",height:"auto","@media only screen and (min-width: 900px)":{width:"60%"}},vehiclePic:{width:"100%",height:"auto",borderRadius:5},loadingContainer:{width:"100%",height:"450px",border:"1px solid grey",borderRadius:5,"@media only screen and (min-width: 900px)":{height:"100%"}},imgSpinner:{width:"30% !important",height:"initial !important"},warningIcon:{width:50,height:50},warningText:{marginTop:e.spacing(3),fontSize:e.spacing(2.5)},infoContainer:{width:"100%",marginTop:16,padding:16,boxSizing:"border-box",minWidth:275,"@media only screen and (min-width: 900px)":{width:"38%",marginTop:0,marginLeft:16,overflowY:"auto"}},infoHeading:{margin:0},milesPriceContainer:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",fontSize:"1.3rem",margin:"".concat(e.spacing(2),"px 0 ").concat(e.spacing(2),"px 0")},payment:{fontSize:".7rem",color:e.palette.info.main,"&:hover":{textDecoration:"underline",cursor:"pointer"}},miles:{},vin:{fontSize:".7rem",color:e.palette.grey[500],margin:"0 0 ".concat(e.spacing(2),"px 0")},infoImgContainer:{display:"flex",alignItems:"center",marginBottom:e.spacing(2)},infoImg:{width:30,marginRight:e.spacing(2)},infoImgHeading:{fontWeight:500},infoImgText:{color:e.palette.grey[600],fontSize:".8rem"},dropdownHeading:{fontWeight:500},hoverCursor:{"&:hover":{cursor:"pointer"}},contactNumber:{marginTop:e.spacing(2)},phoneNumber:{color:e.palette.info.main,textDecoration:"underline"}})}));function va(){var e=ba(),a=Object(c.f)(),t=a.location.pathname.split("/")[2],n=i.a.useState(!1),r=Object(z.a)(n,2),l=r[0],o=r[1],s=i.a.useState(!0),m=Object(z.a)(s,2),u=m[0],d=m[1],p=i.a.useState(!1),h=Object(z.a)(p,2),g=h[0],f=h[1],b=Ge().data,v=((void 0===b?[]:b).reduce((function(e,a){return Object(ta.a)(Object(ta.a)({},e),{},Object(R.a)({},a.name,{ids:a.picIds}))}),{}),Le(t).data),E=void 0===v?[]:v;function A(a){return i.a.createElement("div",null,i.a.createElement("img",{className:e.vehiclePic,src:a.original,alt:"".concat(E.year," ").concat(E.make," ").concat(E.model," ").concat(a.ind+1),onLoad:function(){0===a.ind&&d(!1)},onError:function(){d(!1),f(!0)}}))}return i.a.createElement("div",{className:e.outerWrapper},i.a.createElement("div",{className:e.paddingWrapper},i.a.createElement("div",{className:e.root},E&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:e.imgGalleryWrapper},i.a.createElement(_.a,{className:e.loadingContainer,container:!0,alignItems:"center",justify:"center",style:{display:u?"flex":"none"}},i.a.createElement(He.a,{className:e.imgSpinner})),g?i.a.createElement(_.a,{className:e.loadingContainer,container:!0,alignItems:"center",justify:"center",direction:"column"},i.a.createElement(N.a,{className:e.warningIcon}),i.a.createElement("span",{className:e.warningText},"Image Failed to Load")):i.a.createElement("div",{style:{opacity:u?0:1,width:"100%",position:u?"absolute":"initial"}},E&&E.picIds&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ca.a,{showPlayButton:!1,items:E.picIds.map((function(e,a){return{original:"".concat(ze,"/vehicles/pics/").concat(e),thumbnail:"".concat(ze,"/vehicles/pics/").concat(e),renderItem:A,ind:a}}))})))),i.a.createElement(H.a,{className:e.infoContainer,elevation:3},i.a.createElement("h2",{className:e.infoHeading},E.year," ",E.make," ",E.model),i.a.createElement("div",{className:e.milesPriceContainer},i.a.createElement("span",null,i.a.createElement("span",null,"$",(1*E.price).toLocaleString("en-US")),i.a.createElement("div",{className:e.payment,onClick:function(e){e.stopPropagation(),a.push("/payments-calculator")}},"$".concat(Math.round(E.price/60),"/month"))),"\xb7"," ",i.a.createElement("div",null,(1*E.mileage).toLocaleString("en-US")," miles")),i.a.createElement("div",{className:e.vin},"VIN # 3C6TR5EJ3LG168496"),i.a.createElement("div",{className:e.infoImgContainer},i.a.createElement("img",{src:ma.a,alt:"No Accidents",className:e.infoImg}),i.a.createElement("div",null,i.a.createElement("div",{className:e.infoImgHeading}," No Accidents"),i.a.createElement("span",{className:e.infoImgText},"Reported by AutoCheck\xae."))),i.a.createElement("div",{className:e.infoImgContainer},i.a.createElement("img",{src:ha.a,alt:"One Owner",className:e.infoImg}),i.a.createElement("span",null,i.a.createElement("div",{className:e.infoImgHeading},"Single Owner"),i.a.createElement("span",{className:e.infoImgText},"Reported by AutoCheck\xae."))),console.log(E),"4WD"===E.drivetrain&&i.a.createElement("div",{className:e.infoImgContainer},i.a.createElement("img",{src:da.a,alt:"Four Wheel Drive",className:e.infoImg}),i.a.createElement("span",null,i.a.createElement("div",{className:e.infoImgHeading},"Four-Wheel Drive"),i.a.createElement("span",{className:e.infoImgText},"A certified country boy"))),"manual"===E.transmission&&i.a.createElement("div",{className:e.infoImgContainer},i.a.createElement("img",{src:fa.a,alt:"Manual Transmission",className:e.infoImg}),i.a.createElement("span",null,i.a.createElement("div",{className:e.infoImgHeading},"Manual Transmission"),i.a.createElement("span",{className:e.infoImgText},"6 Speed Manual Transmission"))),i.a.createElement(ee.a,null),i.a.createElement("div",{className:la()(e.milesPriceContainer,e.hoverCursor),onClick:function(){return o(!l)}},i.a.createElement("span",{className:e.dropdownHeading},"Features & Specs"),l?i.a.createElement(q.a,null):i.a.createElement(ia.a,null)),l?i.a.createElement("div",{className:la()(e.milesPriceContainer,e.hoverCursor)},"Features"):null,l?i.a.createElement("div",{className:la()(e.milesPriceContainer,e.hoverCursor)},"Specifications"):null,i.a.createElement(ee.a,null),i.a.createElement("div",{className:e.contactNumber},"Call ",i.a.createElement("span",{className:e.phoneNumber},"864-804-7528")))))))}var Ea=t(32),Aa=t(637),ya=t(40),wa=t(33),xa=t(93),ka=t.n(xa),Na=t(645),ja=t(262),Ia=t.n(ja),Oa=t(390),Ca=t.n(Oa),Wa=t(629),Sa=t(630),za=t(631),Ra=t(632),Pa=t(633);function Da(e){var a=e.open,t=e.onRemovePic,n=e.handleClose,r=e.id;return i.a.createElement(Wa.a,{open:a,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(Pa.a,{id:"alert-dialog-title"},"Delete Picture?"),i.a.createElement(za.a,null,i.a.createElement(Ra.a,{id:"alert-dialog-description"},"Are you sure you want to delete the picture?")),i.a.createElement(Sa.a,null,i.a.createElement(Qe.a,{onClick:n,color:"primary"},"No"),i.a.createElement(Qe.a,{onClick:function(){return t(r)},color:"primary",autoFocus:!0},"Yes")))}var Ba=Object(p.a)((function(e){return Object(h.a)({root:{width:"100%"},picContainer:{overflowX:"hidden",overflowY:"auto",border:"1px solid grey",width:"100%",maxWidth:1200,height:400,maxHeight:1200,borderRadius:5,"@media only screen and (min-width: 600px)":{height:700},"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},pic:{borderRadius:8,width:"100%",height:"100%"},uploadPlaceholder:{height:"auto",borderRadius:8,backgroundColor:"whitesmoke","&:hover":{backgroundColor:"gainsboro",cursor:"pointer"}},uploadPlaceholderItems:{display:"block",margin:"0 auto"},gridPic:{height:"50%",overflow:"hidden",position:"relative",borderRadius:16},imgBtn:{display:"block",position:"absolute",top:4,left:4,color:"white","&:hover":{cursor:"pointer",color:"gainsboro"}},spinner:{position:"absolute"}})})),La=Object(Na.a)();function Ma(e){var a=e.pic,t=e.onRemovePic,n=e.setPics,r=e.isUpdateForm,l=Ba(),o=i.a.useState(!1),c=Object(z.a)(o,2),s=c[0],m=c[1],u=a.id;return i.a.createElement(_.a,{item:!0,xs:12,md:6,key:u,className:l.gridPic,container:!0,alignItems:"center",justify:"center"},i.a.createElement("img",{className:l.pic,src:a.url,alt:"car picture",onLoad:function(){n((function(e){return e.map((function(e){return e.id===u?Object(ta.a)(Object(ta.a)({},e),{},{loading:!1}):e}))}))},onError:function(){console.log("IMAGE FAILED TO LOAD")}}),i.a.createElement(Ca.a,{className:l.imgBtn,onClick:function(){r?m(!0):t(u)}}),a.loading&&i.a.createElement(He.a,{className:l.spinner}),i.a.createElement(Da,{onRemovePic:t,open:s,handleClose:function(){m(!1)},id:u}))}var Ta=Object(l.c)((function(e){return{}}),{addNotification:b})((function(e){var a=e.pics,t=e.setPics,r=e.isUpdateForm,l=e.addNotification,o=e.vehicleId,c=e.vehiclePics,s=void 0===c?[]:c,m=e.refetch,u=Ba(),d=Object(n.useRef)(null),p=Fe(),h=Object(z.a)(p,2),g=h[0],f=(h[1].isLoading,function(){var e=Object(S.a)(W.a.mark((function e(n){var i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!s.includes(n)){e.next=16;break}return t((function(e){return e.map((function(e){return Object(ta.a)(Object(ta.a)({},e),{},{loading:e.id===n})}))})),e.prev=2,e.next=5,g({picId:n,vehicleId:o});case 5:i=e.sent,ka()(i,"data.vehicleId")&&(t((function(e){return e.filter((function(e){return e.id!==n}))})),l("picDelete","Picture Delete Success","success"),m()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("DELTE ERR:",e.t0),l("picDelete","Error deleting Picture","error"),t((function(e){return e.map((function(e){return Object(ta.a)(Object(ta.a)({},e),{},{loading:e.id!==n&&e.loading})}))}));case 14:e.next=17;break;case 16:t(a.filter((function(e){return e.id!==n})));case 17:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}()),b=a.map((function(e){return i.a.createElement(Ma,{key:e.id,pic:e,id:e.id,onRemovePic:f,refetch:m,setPics:t,isUpdateForm:r})}));return i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"file",multiple:!0,className:u.fileInput,onChange:function(e){var a=Object.values(e.target.files).map((function(e){return{id:Object(Na.a)(),url:URL.createObjectURL(e),file:e}}));t((function(e){return[].concat(Object(Ea.a)(e),Object(Ea.a)(a))}))},style:{padding:20,display:"none"},ref:d,name:"uploaded_files"}),i.a.createElement(_.a,{className:u.picContainer,container:!0,item:!0,spacing:1,style:{padding:a&&a.length?4:8}},a&&a.length?[].concat(Object(Ea.a)(b),[i.a.createElement(_.a,{container:!0,item:!0,xs:12,md:b.length%2===1?6:12,style:{height:"50%",padding:4},key:La},i.a.createElement(_.a,{className:u.uploadPlaceholder,onClick:function(){return d.current.click()},item:!0,xs:12,container:!0,justify:"center",alignItems:"center"},i.a.createElement("div",null,i.a.createElement(Ia.a,{className:u.uploadPlaceholderItems}),i.a.createElement("h3",{className:u.uploadPlaceholderItems},"Add Photos"))))]):i.a.createElement(_.a,{className:u.uploadPlaceholder,onClick:function(){return d.current.click()},item:!0,container:!0,justify:"center",alignItems:"center"},i.a.createElement("div",null,i.a.createElement(Ia.a,{className:u.uploadPlaceholderItems}),i.a.createElement("h3",{className:u.uploadPlaceholderItems},"Add Photos")))))})),Fa=Object(p.a)((function(e){return Object(h.a)({root:{width:"100%"},title:{},form:{maxWidth:1200,width:"96%",boxSizing:"border-box",margin:"0 auto",display:"block"},textField:{marginBottom:16,"& p":{position:"absolute",top:35}},fileInput:{margin:16},picContainer:{overflowX:"hidden",overflowY:"auto",border:"1px solid grey",borderRadius:8,width:"100%",maxWidth:1200,height:700,maxHeight:1200,"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},pic:{borderRadius:8,width:"100%",height:"100%"},uploadPlaceholder:{height:"auto",borderRadius:8,backgroundColor:"whitesmoke","&:hover":{backgroundColor:"gainsboro",cursor:"pointer"}},uploadPlaceholderItems:{display:"block",margin:"0 auto"},uploadButton:{height:45,margin:"20px 16px 16px 16px",width:"90%",maxWidth:600},imgBtn:{display:"block",position:"absolute",top:4,color:"white","&:hover":{cursor:"pointer",color:"gainsboro"}},spinner:{position:"absolute"}})}));var Ua=Object(l.c)((function(e){return{isAuthed:Ce(e)}}),{addNotification:b})((function(e){var a=e.addNotification,t=e.isAuthed,r=Fa(),l=Object(n.useState)([]),o=Object(z.a)(l,2),s=o[0],m=o[1],u=Object(c.f)(),d=Object(c.g)(),p=u.location.pathname.split("/")[2],h=Te(),g=Object(z.a)(h,2),f=g[0],b=g[1].isLoading,v=Le(p),E=v.data,A=void 0===E?{}:E,y=v.refetch,w=A.picIds;Object(n.useEffect)((function(){if(w){var e=w.map((function(e){return s.find((function(a){return a.id===e}))?null:{id:e,url:"".concat(ze,"/vehicles/pics/").concat(e),loading:!0}})).filter(Boolean);m((function(a){return[].concat(Object(Ea.a)(a),Object(Ea.a)(e))}))}}),[w,s]),Object(n.useEffect)((function(){if(!t){var e=d.pathname.split("/"),a=e[e.length-1];u.push("/vehicle/".concat(a))}}),[]);var x=function(){var e=!1;return s.forEach((function(a){w.includes(a.id)||(e=!0)})),e},k=function(){var e=Object(S.a)(W.a.mark((function e(t,n){var i,r,l;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=26;break}return i=new FormData,l=[],s.forEach((function(e,a){!A.picIds.includes(e.id)&&e.file&&(i.append("uploaded_files",e.file,e.name),l.push(e.id))})),i.append("vin",t.vin),i.append("year",t.year),i.append("make",t.make),i.append("model",t.model),i.append("mileage",t.mileage),i.append("price",t.price),i.append("drivetrain",t.drivetrain),i.append("transmission",t.transmission),i.append("motor",t.motor),i.append("description",t.description),i.append("picIds",JSON.stringify(w)),e.prev=15,e.next=18,f({vehicleId:p,fd:i});case 18:(r=e.sent)&&r.data&&r.data._id&&(console.log(r),l.length&&m((function(e){return e.map((function(e){return l.includes(e.id)?void 0:e})).filter(Boolean)})),n.reset(r.data),a("vehicleUpload","Upload Successful","success")),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(15),a("vehicleUpload","Upload Error","error"),console.log("UPLOAD VEHICLE REQ:",e.t0);case 26:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(a,t){return e.apply(this,arguments)}}();return i.a.createElement(_.a,{className:r.root,container:!0,direction:"column",alignItems:"center",wrap:"nowrap"},i.a.createElement("h1",{className:r.title},"Update Vehicle"),A&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ya.b,{onSubmit:k,initialValues:A,validate:function(e){var a={};return["vin","year","make","model","mileage","transmission","drivetrain","motor","description"].forEach((function(t){t&&(e[t]||(a=Object(ta.a)(Object(ta.a)({},a),{},Object(R.a)({},t,"required"))))})),a}},(function(e){var a=e.handleSubmit,t=e.submitting,n=e.pristine,l=e.valid;return i.a.createElement("form",{className:r.form,onSubmit:a},i.a.createElement(_.a,{container:!0,alignItems:"center",justify:"center"},i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"VIN#",name:"vin",id:"vehilceUpload-vin",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Year",name:"year",id:"vehilceUpload-year",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Make",name:"make",id:"vehilceUpload-make",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Model",name:"model",id:"vehilceUpload-model",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Mileage",name:"mileage",id:"vehilceUpload-mileage",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Price",name:"price",id:"vehilceUpload-price",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Transmission",name:"transmission",id:"vehilceUpload-transmission",variant:"outlined",size:"small",className:r.textField,fullWidth:!0,select:!0},i.a.createElement(Aa.a,{key:"manual",value:"manual"},"Manual"),i.a.createElement(Aa.a,{key:"auto",value:"Auto"},"Auto"))),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Drivetrain",name:"drivetrain",id:"vehilceUpload-drivetrain",variant:"outlined",size:"small",className:r.textField,fullWidth:!0,select:!0},i.a.createElement(Aa.a,{key:"4wd",value:"4WD"},"4WD"),i.a.createElement(Aa.a,{key:"awd",value:"AWD"},"AWD"),i.a.createElement(Aa.a,{key:"rwd",value:"RWD"},"RWD"),i.a.createElement(Aa.a,{key:"2wd",value:"2WD"},"2WD"))),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Motor",name:"motor",id:"vehilceUpload-motor",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Description",name:"description",id:"vehilceUpload-description",variant:"outlined",size:"small",className:r.textField,multiline:!0,fullWidth:!0,rows:8})),i.a.createElement(Ta,{pics:s,setPics:m,isUpdateForm:!0,vehicleId:A._id,vehiclePics:w,refetch:y}),i.a.createElement(Qe.a,{variant:"outlined",color:"primary",className:r.uploadButton,disabled:s.length<3||!l||b||t||n&&!x(),type:"submit"},"Update",(b||t)&&i.a.createElement(He.a,{className:r.spinner}))))}))))})),Ga=t(204),Va=t(392),Ya=t.n(Va),Za=t(267),Qa=t(643),Ha=t(635),Xa=t(166),qa=t.n(Xa),Ka=t(167),Ja=t.n(Ka),_a=t(395),$a=t.n(_a),et=t(394),at=t.n(et),tt=t(206),nt=Object(p.a)((function(e){return Object(h.a)({gradientButton:{margin:"0 auto",display:"flex",alignItems:"center",width:"40%",background:function(e){return e.valid?"linear-gradient(45deg, #47CCC6 30%, #3f51b5 90%)":"linear-gradient(45deg, lightgrey 30%, grey 90%)"},border:"none !important",borderRadius:3,color:"white","&:disabled":{border:"none"}}})}));function it(e){var a=e.children,t=e.valid,n=Object(tt.a)(e,["children","valid"]),r=nt({valid:t});return i.a.createElement(Qe.a,Object.assign({},n,{className:r.gradientButton}),a)}var rt=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,lt=/(^\d{5}$)|(^\d{5}-\d{4}$)/,ot=/^([a-zA-Z\u0080-\u024F]+(?:. |-| |'))*[a-zA-Z\u0080-\u024F]*$/,ct=/^\d{7}$/,st=/^.*(?=.{4,})(?=.*[a-zA-Z])(?=.*\d)(?=.*[!#$%&? "]).*$/,mt=t(644),ut=t(641),dt=function(e){var a=e.input,t=e.meta,n=t.touched,r=t.error,l=Object(tt.a)(e,["input","meta"]);return i.a.createElement(ut.a,Object.assign({helperText:n&&r||" ",error:r&&n},a,l))},pt=function(e){return i.a.createElement(mt.a,Object.assign({component:dt},e))},ht=Object(p.a)((function(e){return Object(h.a)({root:{width:"100%",boxSizing:"border-box",marginBottom:e.spacing(2)},formPaper:Object(R.a)({width:"100%",margin:"0 auto",padding:e.spacing(2),boxSizing:"border-box"},e.breakpoints.up("sm"),{width:"60%"}),title:{textAlign:"center",marginBottom:e.spacing(1)},privacyText:Object(R.a)({width:"100%",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.up("sm"),{width:"60%"}),finComp:Object(R.a)({width:"95%",margin:"0 auto",marginBottom:8},e.breakpoints.up("sm"),{width:"60%"}),infoText:{width:"100%",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(2)},checkmark:{color:"green",margin:"auto 4px"},identityIcon:{color:"grey",margin:"0 ".concat(e.spacing(.5),"px")},form:{boxSizing:"border-box",width:"100%",margin:"0 auto",display:"block"},inputGrid:{height:50},loadSpinner:{width:"15px !important",height:"15px !important",position:"absolute",right:e.spacing(3),color:"white"}})})),gt=Object(Qa.a)({form:"creditapp",validate:function(e,a){Object(Ga.a)(a);var t={};return["fullName","email","street","city","state","zip","birth","employment","salary","social"].forEach((function(a){a&&(e[a]||(t=Object(ta.a)(Object(ta.a)({},t),{},Object(R.a)({},a,"required"))))})),e.email&&!rt.test(e.email)&&(t=Object(ta.a)(Object(ta.a)({},t),{},{email:"invalid email"})),e.zip&&!lt.test(e.zip)&&(t=Object(ta.a)(Object(ta.a)({},t),{},{zip:"invalid zip code"})),e.city&&!ot.test(e.city)&&(t=Object(ta.a)(Object(ta.a)({},t),{},{city:"invalid city name"})),e.social&&!ct.test(e.social)&&(t=Object(ta.a)(Object(ta.a)({},t),{},{social:"invalid social"})),t}})((function(e){var a=e.handleSubmit,t=e.valid,n=e.reset,r=e.addNotification,l=e.submitting,o=i.a.useState(!1),c=Object(z.a)(o,2),s=c[0],u=c[1],d=i.a.useState(-2),p=Object(z.a)(d,2),h=p[0],g=p[1],f=ht({valid:t&&h>-2});return i.a.createElement("div",{className:f.root},i.a.createElement(qe,{title:"Mayfair Motors Credit Application",description:"Fill out the credit application to see what amount you qualify for"}),i.a.createElement("h1",{className:f.title},"Credit Application"),i.a.createElement("span",{className:f.privacyText},i.a.createElement(at.a,{className:f.identityIcon}),"This information is neccessary for your application but is never shared or sold to other parties."),i.a.createElement("div",{className:f.finComp},i.a.createElement(pt,{id:"fin-comp-select",select:!0,name:"finComps",label:"Finance Company",value:h,onChange:function(e){g(e.target.value)},helperText:"Please select who you would like to apply with",variant:"outlined",size:"small",InputLabelProps:{shrink:!0},fullWidth:!0},i.a.createElement(Aa.a,{key:"sctelco",value:"0"},"SC Telco"),i.a.createElement(Aa.a,{key:"onmain",value:"1"},"OneMain Financial (Bad Credit)"),i.a.createElement(Aa.a,{key:"both",value:"-1"},"SC Telco & OneMain Financial"))),i.a.createElement(H.a,{className:f.formPaper,elevation:20},i.a.createElement("span",{className:f.infoText},i.a.createElement($a.a,{className:f.checkmark}),"Your name and information must match the information on your drivers license."),i.a.createElement("form",{onSubmit:a((function(e){var a=[{name:"SC Telco",email:"lebron.alex@yahoo.com"},{name:"OneMain Financial",email:"lebron@mayfairmotorco.com"}],t=(-1==h?a:a.slice(h,1)).map((function(a){return Ya.a.send("service_i60y4ob","creditapptemplate",{full_name:e.fullName,birthday:e.birthday,social:e.social,email:e.email,address:"".concat(e.street," ").concat(e.suite,", ").concat(e.city,", ").concat(e.state," ").concat(e.zip),employment:e.employment,salary:e.salary,reply_to:e.email,to_name:a.name,to_email:a.email,from_name:e.fullName},"user_wlmSfJ74mBeGnWOqUUQtj")}));return Promise.all(t).then((function(){n(),r("creditApp","Submit Successful","success"),g(-2)})).catch((function(e){throw r("creditApp","Please try again","error"),new Za.a}))})),className:f.form},i.a.createElement(_.a,{container:!0,alignItems:"center"},i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(pt,{label:"Full Name",name:"fullName",id:"creditapp-fullname",variant:"outlined",size:"small",fullWidth:!0,inputProps:{}})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(pt,{label:"Email",name:"email",type:"email",id:"creditapp-email",variant:"outlined",size:"small",fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(pt,{label:"Street",name:"street",id:"creditapp-street",variant:"outlined",size:"small",fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(pt,{label:"apt, suite, building - optional",name:"suite",id:"creditapp-suite",variant:"outlined",size:"small",fullWidth:!0})),i.a.createElement(_.a,{container:!0,item:!0,spacing:1,shrink:0},i.a.createElement(_.a,{item:!0,xs:8,md:5},i.a.createElement(pt,{label:"City",name:"city",id:"creditapp-city",variant:"outlined",size:"small",fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:4,md:2},i.a.createElement(pt,{label:"State",name:"state",id:"creditapp-state",variant:"outlined",size:"small",fullWidth:!0,select:!0},i.a.createElement(Aa.a,{key:"AL",value:"AL"},"AL"),i.a.createElement(Aa.a,{key:"Ak",value:"Ak"},"Ak"),i.a.createElement(Aa.a,{key:"AZ",value:"AZ"},"AZ"),i.a.createElement(Aa.a,{key:"AR",value:"AR"},"AR"),i.a.createElement(Aa.a,{key:"CA",value:"CA"},"CA"),i.a.createElement(Aa.a,{key:"CO",value:"CO"},"CO"),i.a.createElement(Aa.a,{key:"CT",value:"CT"},"CT"),i.a.createElement(Aa.a,{key:"DE",value:"DE"},"DE"),i.a.createElement(Aa.a,{key:"FL",value:"FL"},"FL"),i.a.createElement(Aa.a,{key:"GA",value:"GA"},"GA"),i.a.createElement(Aa.a,{key:"HI",value:"HI"},"HI"),i.a.createElement(Aa.a,{key:"ID",value:"ID"},"ID"),i.a.createElement(Aa.a,{key:"IL",value:"IL"},"IL"),i.a.createElement(Aa.a,{key:"IN",value:"IN"},"IN"),i.a.createElement(Aa.a,{key:"IA",value:"IA"},"IA"),i.a.createElement(Aa.a,{key:"KS",value:"KS"},"KS"),i.a.createElement(Aa.a,{key:"KY",value:"KY"},"KY"),i.a.createElement(Aa.a,{key:"LA",value:"LA"},"LA"),i.a.createElement(Aa.a,{key:"ME",value:"ME"},"ME"),i.a.createElement(Aa.a,{key:"MD",value:"MD"},"MD"),i.a.createElement(Aa.a,{key:"MA",value:"MA"},"MA"),i.a.createElement(Aa.a,{key:"MI",value:"MI"},"MI"),i.a.createElement(Aa.a,{key:"MN",value:"MN"},"MN"),i.a.createElement(Aa.a,{key:"MS",value:"MS"},"MS"),i.a.createElement(Aa.a,{key:"MO",value:"MO"},"MO"),i.a.createElement(Aa.a,{key:"MT",value:"MT"},"MT"),i.a.createElement(Aa.a,{key:"NE",value:"NE"},"NE"),i.a.createElement(Aa.a,{key:"NV",value:"NV"},"NV"),i.a.createElement(Aa.a,{key:"NY",value:"NY"},"NY"),i.a.createElement(Aa.a,{key:"NC",value:"NC"},"NC"),i.a.createElement(Aa.a,{key:"ND",value:"ND"},"ND"),i.a.createElement(Aa.a,{key:"OH",value:"OH"},"OH"),i.a.createElement(Aa.a,{key:"OK",value:"OK"},"OK"),i.a.createElement(Aa.a,{key:"OR",value:"OR"},"OR"),i.a.createElement(Aa.a,{key:"PA",value:"PA"},"PA"),i.a.createElement(Aa.a,{key:"RI",value:"RI"},"RI"),i.a.createElement(Aa.a,{key:"SC",value:"SC"},"SC"),i.a.createElement(Aa.a,{key:"SD",value:"SD"},"SD"),i.a.createElement(Aa.a,{key:"TN",value:"TN"},"TN"),i.a.createElement(Aa.a,{key:"TX",value:"TX"},"TX"),i.a.createElement(Aa.a,{key:"UT",value:"UT"},"UT"),i.a.createElement(Aa.a,{key:"VT",value:"VT"},"VT"),i.a.createElement(Aa.a,{key:"VA",value:"VA"},"VA"),i.a.createElement(Aa.a,{key:"WA",value:"WA"},"WA"),i.a.createElement(Aa.a,{key:"WV",value:"WV"},"WV"),i.a.createElement(Aa.a,{key:"WI",value:"WI"},"WI"),i.a.createElement(Aa.a,{key:"WY",value:"WY"},"WY"))),i.a.createElement(_.a,{item:!0,xs:8,md:5},i.a.createElement(pt,{label:"Zip",name:"zip",id:"creditapp-zip",variant:"outlined",size:"small",fullWidth:!0}))),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(pt,{label:"Birthday",placeholder:"",name:"birth",type:"date",id:"creditapp-birth",variant:"outlined",size:"small",InputLabelProps:{shrink:!0},fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(pt,{label:"Employment Status",name:"employment",id:"creditapp-employement",variant:"outlined",size:"small",select:!0,fullWidth:!0},i.a.createElement(Aa.a,{key:"employed",value:"employed"},"Employed"),i.a.createElement(Aa.a,{key:"unemployed",value:"unemployed"},"Unemployed"))),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(pt,{label:"Anual Salary",name:"salary",id:"creditapp-salary",variant:"outlined",size:"small",fullWidth:!0,select:!0},i.a.createElement(Aa.a,{key:"20",value:"20"},"Below $20,000"),i.a.createElement(Aa.a,{key:"30",value:"30"},"$20,000-$30,000"),i.a.createElement(Aa.a,{key:"40",value:"40"},"$30,000-$40,000"),i.a.createElement(Aa.a,{key:"50",value:"50"},"$40,000-$50,000"),i.a.createElement(Aa.a,{key:"60",value:"60"},"$50,000-$60,000"),i.a.createElement(Aa.a,{key:"70",value:"70"},"Above $60,000"))),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(pt,{label:"Social Security Number",name:"social",id:"formatted-numberformat-input",variant:"outlined",size:"small",fullWidth:!0,type:s?"text":"password",InputProps:{endAdornment:i.a.createElement(Ha.a,{position:"end"},i.a.createElement(m.a,{"aria-label":"toggle ssn visibility",onClick:function(){return u(!s)}},s?i.a.createElement(qa.a,null):i.a.createElement(Ja.a,null)))}}))),i.a.createElement(it,{type:"submit",variant:"outlined",color:"primary",disabled:!t||l||h<-1,valid:t&&h>-2},i.a.createElement("span",null,"Submit"),l&&i.a.createElement(He.a,{className:f.loadSpinner})))))})),ft=Object(l.c)(null,{addNotification:b})(gt);var bt=function(){return i.a.createElement(_.a,{container:!0,alignItems:"center",justify:"center",style:{padding:16}},i.a.createElement("h2",null,"Payments Calculator"),i.a.createElement("img",{style:{width:"80%"},src:"https://www.mybanktracker.com/news/wp-content/uploads/2018/06/personal-loans-calculator.png"}))},vt=Object(p.a)((function(e){return Object(h.a)({root:{},title:{textAlign:"center"},info:{margin:0,padding:"0 16px"}})}));var Et=function(e){Object(Ga.a)(e);var a=vt();return i.a.createElement("div",{className:a.root},i.a.createElement("h1",{className:a.title}," About the Business"),i.a.createElement("p",{className:a.info},"Mayfair Motors was founded in 2020 by two business partners. The aim of the business is to provide customers an easy buying experience from people they can trust."))},At=Object(p.a)((function(e){return Object(h.a)({root:{width:"100%"},title:{},form:{maxWidth:1200,width:"96%",boxSizing:"border-box",margin:"0 auto",display:"block"},textField:{marginBottom:16,"& p":{position:"absolute",top:35}},fileInput:{margin:16},uploadPlaceholder:{height:"auto",borderRadius:8,backgroundColor:"whitesmoke","&:hover":{backgroundColor:"gainsboro",cursor:"pointer"}},uploadPlaceholderItems:{display:"block",margin:"0 auto"},uploadButton:{height:45,margin:"20px 16px 16px 16px",width:"90%",maxWidth:600},imgBtn:{display:"block",position:"absolute",top:4,color:"white","&:hover":{cursor:"pointer",color:"gainsboro"}},spinner:{position:"absolute"}})}));var yt=Object(l.c)((function(e){return{isAuthed:Ce(e)}}),{addNotification:b})((function(e){var a=e.addNotification,t=e.isAuthed,r=At(),l=Object(n.useState)([]),o=Object(z.a)(l,2),s=o[0],m=o[1],u=Me(),d=Object(z.a)(u,2),p=d[0],h=d[1].isLoading,g=Object(c.f)();Object(n.useEffect)((function(){t||g.push("/")}),[t]);var f=function(){var e=Object(S.a)(W.a.mark((function e(t,n){var i,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=23;break}return i=new FormData,s.forEach((function(e,a){e.file&&i.append("uploaded_files",e.file,e.name)})),i.append("vin",t.vin),i.append("year",t.year),i.append("make",t.make),i.append("model",t.model),i.append("mileage",t.mileage),i.append("price",t.price),i.append("drivetrain",t.drivetrain),i.append("transmission",t.transmission),i.append("motor",t.motor),i.append("description",t.description),e.prev=13,e.next=16,p(i);case 16:(r=e.sent)&&r.data&&(m([]),n.restart(),a("vehicleUpload","Upload Successful","success")),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),console.log("UPLOAD VEHICLE REQ:",e.t0);case 23:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(a,t){return e.apply(this,arguments)}}();return i.a.createElement(_.a,{className:r.root,container:!0,direction:"column",alignItems:"center",wrap:"nowrap"},i.a.createElement("h1",{className:r.title},"Upload Vehicle"),i.a.createElement(ya.b,{onSubmit:f,validate:function(e){var a={};return["vin","year","make","model","mileage","transmission","drivetrain","motor","description"].forEach((function(t){t&&(e[t]||(a=Object(ta.a)(Object(ta.a)({},a),{},Object(R.a)({},t,"required"))))})),a}},(function(e){var a=e.handleSubmit,t=(e.form,e.submitting),n=(e.pristine,e.values,e.valid);return i.a.createElement("form",{className:r.form,onSubmit:a},i.a.createElement(_.a,{container:!0,alignItems:"center",justify:"center"},i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"VIN#",name:"vin",id:"vehilceUpload-vin",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Year",name:"year",id:"vehilceUpload-year",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Make",name:"make",id:"vehilceUpload-make",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Model",name:"model",id:"vehilceUpload-model",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Mileage",name:"mileage",id:"vehilceUpload-mileage",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Price",name:"price",id:"vehilceUpload-price",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Transmission",name:"transmission",id:"vehilceUpload-transmission",variant:"outlined",size:"small",className:r.textField,fullWidth:!0,select:!0},i.a.createElement(Aa.a,{key:"manual",value:"manual"},"Manual"),i.a.createElement(Aa.a,{key:"auto",value:"Auto"},"Auto"))),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Drivetrain",name:"drivetrain",id:"vehilceUpload-drivetrain",variant:"outlined",size:"small",className:r.textField,fullWidth:!0,select:!0},i.a.createElement(Aa.a,{key:"4wd",value:"4WD"},"4WD"),i.a.createElement(Aa.a,{key:"awd",value:"AWD"},"AWD"),i.a.createElement(Aa.a,{key:"rwd",value:"RWD"},"RWD"),i.a.createElement(Aa.a,{key:"2wd",value:"2WD"},"2WD"))),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Motor",name:"motor",id:"vehilceUpload-motor",variant:"outlined",size:"small",className:r.textField,fullWidth:!0})),i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Description",name:"description",id:"vehilceUpload-description",variant:"outlined",size:"small",className:r.textField,multiline:!0,fullWidth:!0,rows:8})),i.a.createElement(Ta,{pics:s,setPics:m}),i.a.createElement(Qe.a,{variant:"outlined",color:"primary",className:r.uploadButton,disabled:s.length<3||!n||h||t,type:"submit"},"Upload",(h||t)&&i.a.createElement(He.a,{className:r.spinner}))))})))})),wt=t(258),xt=t.n(wt),kt=t(642),Nt=t(651),jt=t(654),It=Object(p.a)((function(e){var a;return Object(h.a)({root:{width:"100%"},form:{maxWidth:1200,width:"96%",boxSizing:"border-box",margin:"0 auto",display:"block"},fieldGrid:{marginBottom:e.spacing(3)},textField:{"& p":{position:"absolute",top:35}},collapse:{width:"100%"},link:{"&:hover":{cursor:"pointer"}},uploadButton:(a={height:45,width:100,margin:"20px 16px 16px 16px"},Object(R.a)(a,"width","90%"),Object(R.a)(a,"maxWidth",600),a),spinner:{position:"absolute"}})}));var Ot=Object(l.c)((function(e){return{hasAccount:Oe(e),isAuthed:Ce(e)}}),{addNotification:b,setHasAccount:ke,setIsAuthed:Ne})((function(e){e.handleSubmit,e.valid,e.reset,e.submitting;var a=e.hasAccount,t=(e.setHasAccount,e.addNotification),r=e.setIsAuthed,l=e.isAuthed,o=It(),s=i.a.useState(!1),u=Object(z.a)(s,2),d=u[0],p=u[1],h=i.a.useState(!1),g=Object(z.a)(h,2),f=g[0],b=g[1],v=i.a.useState(null),E=Object(z.a)(v,2),A=E[0],y=E[1],w=Pe(),x=Object(z.a)(w,2),k=x[0],N=x[1].isLoading,j=De(),I=Object(z.a)(j,1)[0],O=Object(c.f)(),C=Boolean(A);Object(n.useEffect)((function(){l&&O.push("/")}),[l]);var P=function(e){y(e.currentTarget)},D=function(){y(null)},B=function(){var e=Object(S.a)(W.a.mark((function e(n,i){var l,o;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,k({username:n.email,password:n.password});case 3:l=e.sent,e.next=9;break;case 6:return e.next=8,I({username:n.email,password:n.password});case 8:o=e.sent;case 9:console.log(l),ka()(l,"data.user._id")||ka()(o,"data.user._id")?(i.restart(),O.push("/"),r(!0),t("login","Log In Successful","success")):ka()(l,"error")&&(console.log("ERROR:",l.error),t("login","Error Logging In","error"));case 11:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return i.a.createElement(_.a,{className:o.root,container:!0,direction:"column",alignItems:"center",wrap:"nowrap"},i.a.createElement("h1",{className:o.title},a?"Login":"Register"),i.a.createElement(ya.b,{onSubmit:B,validate:function(e){var t={};return(a?["email","password"]:["email","password","repassword"]).forEach((function(a){a&&(e[a]||(t=Object(ta.a)(Object(ta.a)({},t),{},Object(R.a)({},a,"required"))))})),e.email&&!rt.test(e.email)&&(t=Object(ta.a)(Object(ta.a)({},t),{},{email:"invalid email"})),e.password&&!st.test(e.password)&&(t=Object(ta.a)(Object(ta.a)({},t),{},{password:"invalid password"})),a||e.repassword===e.password||(t=Object(ta.a)(Object(ta.a)({},t),{},{repassword:"passwords must match"})),t}},(function(e){var t=e.handleSubmit,n=(e.form,e.submitting),r=(e.pristine,e.values,e.valid);return i.a.createElement("form",{className:o.form,onSubmit:t},i.a.createElement(_.a,{container:!0,alignItems:"center",justify:"center"},i.a.createElement(_.a,{item:!0,xs:12,className:o.fieldGrid},i.a.createElement(wa.a,{label:"Email",name:"email",size:"small",type:"email",variant:"outlined",fullWidth:!0,className:o.textField})),i.a.createElement(_.a,{item:!0,xs:12,className:o.fieldGrid},i.a.createElement(wa.a,{label:"Password",name:"password",size:"small",type:d?"text":"password",fullWidth:!0,variant:"outlined",className:o.textField,InputProps:{endAdornment:i.a.createElement(Ha.a,{position:"end"},i.a.createElement(m.a,{"aria-label":"toggle password",onClick:function(){return p(!d)}},d?i.a.createElement(qa.a,null):i.a.createElement(Ja.a,null)),i.a.createElement(m.a,{"aria-label":"password info",onMouseEnter:P,onMouseLeave:D},i.a.createElement(xt.a,null)))}})),i.a.createElement(kt.a,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:C,anchorEl:A,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:D,disableRestoreFocus:!0},i.a.createElement(Nt.a,{sx:{p:1}},"Password must be 14 characters long and use letters, numbers, and special characters")),i.a.createElement(jt.a,{in:!a,className:o.collapse},i.a.createElement(_.a,{item:!0,xs:12,className:o.fieldGrid},i.a.createElement(wa.a,{label:"Repeat Password",name:"repassword",variant:"outlined",size:"small",type:f?"text":"password",fullWidth:!0,className:o.textField,InputProps:{endAdornment:i.a.createElement(Ha.a,{position:"end"},i.a.createElement(m.a,{"aria-label":"toggle ssn visibility",onClick:function(){return b(!f)}},f?i.a.createElement(qa.a,null):i.a.createElement(Ja.a,null)))}}))),i.a.createElement(Qe.a,{variant:"outlined",color:"primary",className:o.uploadButton,disabled:!r,type:"submit"},a?"Login":"Register",(N||n)&&i.a.createElement(He.a,{className:o.spinner}))))})))}));var Ct=Object(l.c)((function(e){return{isLoggedIn:Ce(e)}}),{setIsAuthed:Ne})((function(e){var a=e.setIsAuthed;return Object(n.useEffect)((function(){Object(S.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("".concat(ze,"/users/authed-user"),{withCredentials:!0});case 3:t=e.sent,ka()(t,"data.isAuthed")&&a(t.data.isAuthed),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("check auth error:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),i.a.createElement("div",null)})),Wt=Object(p.a)((function(e){return Object(h.a)({root:{width:"100%"},form:{maxWidth:1200,width:"96%",boxSizing:"border-box",margin:"0 auto",display:"block"},uploadButton:{height:45,margin:"20px 16px 16px 16px",width:"90%",maxWidth:600},textField:{marginBottom:16}})}));Object(Na.a)();var St=Object(l.c)((function(e){return{}}),{addNotification:b})((function(e){e.addNotification;var a=Wt(),t=Object(n.useState)([]),r=Object(z.a)(t,2),l=r[0],o=r[1],c=Ue(),s=Object(z.a)(c,2),m=s[0],u=(s[1].isLoading,function(){var e=Object(S.a)(W.a.mark((function e(a,t){var n,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,l.forEach((function(e){n.append("uploaded_files",e.file,e.name)})),n.append("name",a.name),e.prev=3,e.next=6,m(n);case 6:i=e.sent,console.log(i),ka()(i,"data.id")&&(t.restart(),o([])),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("ERROR:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a,t){return e.apply(this,arguments)}}());return i.a.createElement(_.a,{className:a.root,container:!0,direction:"column",alignItems:"center",wrap:"nowrap"},i.a.createElement("h1",{className:a.title},"Upload Asset"),i.a.createElement(ya.b,{onSubmit:u,validate:function(e){var a={};return["name"].forEach((function(t){t&&(e[t]||(a=Object(ta.a)(Object(ta.a)({},a),{},Object(R.a)({},t,"required"))))})),a}},(function(e){var t=e.handleSubmit,n=(e.form,e.submitting,e.pristine,e.values,e.valid);return i.a.createElement("form",{className:a.form,onSubmit:t},i.a.createElement(_.a,{container:!0,alignItems:"center",justify:"center"},i.a.createElement(_.a,{item:!0,xs:12},i.a.createElement(wa.a,{label:"Name",name:"name",size:"small",variant:"outlined",fullWidth:!0,className:a.textField})),i.a.createElement(Ta,{pics:l,setPics:o}),i.a.createElement(Qe.a,{variant:"outlined",color:"primary",className:a.uploadButton,disabled:!n,type:"submit"},"Upload")))})))})),zt=(t(558),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Rt(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Pt=t(652),Dt={data:[{year:"2012",make:"Dodge",model:"2500 SLT",price:"18,800",miles:"167k",img:"dodge1_wlYyajzM2.jpg",sold:!0},{year:"2010",make:"Ford",model:"F-150 XLT",price:"14,000",miles:"145k",img:"silverFord_UIEROTjoEI.jpg",sold:!0},{year:"2011",make:"Chevy",model:"1500 LT",price:"17,800",miles:"115k",img:"greyChevy__-S4TDFRsD.jpg",sold:!0},{year:"2013",make:"GMC",model:"1500 SLE",price:"20,000",miles:"145k",img:"redGMC_YlVkOOPch.jpg",sold:!0},{year:"2010",make:"Ford",model:"F-350 Lariat",price:"20,000",miles:"150k",img:"whiteFord_50avclA-T.jpg",sold:!0},{year:"2005",make:"Toyota",model:"4runner SR5",price:"10,000",miles:"121k",img:"4runner_Ojrtw6O_2m.jpg",sold:!0},{year:"2013",make:"Chevy",model:"1500 LTZ",price:"17,800",miles:"167k",img:"redChevy__Oc8GTzeL.jpg",sold:!0},{year:"2008",make:"BMW",model:"328i",price:"4,400",miles:"136k",img:"bmw_v-VxwHMuXk.jpg",sold:!0}],searching:!1};var Bt=function(e,a){if("undefined"===typeof e)return Dt;switch(a.type){case Ae:return Object(ta.a)(Object(ta.a)({},e),{},{searching:a.payload.isSearching});default:return e}},Lt={data:[]};var Mt=function(e,a){if("undefined"===typeof e)return Lt;switch(a.type){case g:return Object(ta.a)(Object(ta.a)({},e),{},{data:[].concat(Object(Ea.a)(e.data),[a.payload])});case f:var t=e.data.filter((function(e){return e.id!==a.payload.id}));return Object(ta.a)(Object(ta.a)({},e),{},{data:t});default:return e}},Tt=Object(ye.a)({reducer:Object(R.a)({vehicles:Bt,notifications:Mt,auth:je,form:Pt.a},Re.reducerPath,Re.reducer),middleware:function(e){return e().concat(Re.middleware)}}),Ft=function(){return i.a.createElement(l.a,{store:Tt},i.a.createElement(i.a.StrictMode,null,i.a.createElement(o.a,null,i.a.createElement(Ct,null),i.a.createElement(Ye,null),i.a.createElement(O,null),i.a.createElement(c.c,null,i.a.createElement(c.a,{path:"/",exact:!0},i.a.createElement(aa,null)),i.a.createElement(c.a,{path:"/vehicle"},i.a.createElement(va,null)),i.a.createElement(c.a,{path:"/info"},i.a.createElement(Et,null)),i.a.createElement(c.a,{path:"/credit-app"},i.a.createElement(ft,null)),i.a.createElement(c.a,{path:"/payments-calculator"},i.a.createElement(bt,null)),i.a.createElement(c.a,{exact:!0,path:"/uploads"},i.a.createElement(yt,null)),i.a.createElement(c.a,{path:"/login"},i.a.createElement(Ot,null)),i.a.createElement(c.a,{path:"/uploads/assets"},i.a.createElement(St,null)),i.a.createElement(c.a,{path:"/edit"},i.a.createElement(Ua,null))))))},Ut=document.getElementById("root");Ut.hasChildNodes()?(Object(r.hydrate)(i.a.createElement(Ft,null),Ut),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");zt?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Rt(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):(Rt(a,e),function(e){var a=document.createElement("script");a.src=e,document.head.appendChild(a)}("https://runtime.imagekit.io/o2fek1q3cpj/v1/js/network-based-adaption.js?v="+(new Date).getTime()))}))}}()):Object(r.render)(i.a.createElement(Ft,null),Ut)}},[[416,1,2]]]);
//# sourceMappingURL=main.23205651.chunk.js.map